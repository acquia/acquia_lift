<?php

/**
 * Drupal Module: Acquia Lift
 *
 * Acquia Lift lets you track customers' behavior throughout their buying
 * journey â€” from anonymous visitor through to loyal customer. Acquia Lift
 * allows you to create a unified customer profile for each individual, based
 * on their interactions with your website. Using these profiles, Acquia Lift
 * adaptively segments customers in real-time, letting you deliver personalized
 * content that furthers your website visitors' engagement with your brand.
 */

use Drupal\Core\Form\FormStateInterface;

/**
 * Implements hook_help().
 */
function acquia_lift_help($route_name) {
  return \Drupal::service('acquia_lift.service.helper.help_message_helper')->getMessage($route_name);
}

/**
 * Implements hook_page_attachments().
 */
function acquia_lift_page_attachments(array &$page) {
  // Create and attach settings and library only when path context agrees on attaching.
  $path_context = \Drupal::service('acquia_lift.service.context.path_context');
  if (!$path_context->shouldAttach()) {
    return;
  }

  // Attach lift CSS to all pages.
  $page['#attached']['library'][] = 'acquia_lift/acquia-lift';

  // Populate page context's HTML head.
  $page_context = \Drupal::service('acquia_lift.service.context.page_context');
  $page_context->populateHtmlHead($page['#attached']['html_head']);

  // Populate path context's HTML head.
  $path_context->populateHtmlHead($page['#attached']['html_head']);
}
