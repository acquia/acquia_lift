services:
  acquia_perz.publishing_settings:
    class: Drupal\Core\Config\ImmutableConfig
    factory: config.factory:get
    arguments:
      - 'acquia_perz.entity_config'

  acquia_perz.cis_settings:
    class: Drupal\Core\Config\ImmutableConfig
    factory: config.factory:get
    arguments:
      - 'acquia_perz.settings'

  acquia_perz.publishing_actions:
    class: Drupal\acquia_perz\ContentPublishingActions
    arguments:
      - '@acquia_perz.publishing_settings'
      - '@acquia_perz.cis_settings'
      - '@entity_type.manager'
      - '@renderer'
      - '@uuid'
      - '@date.formatter'
      - '@datetime.time'

  acquia_perz.export_queue:
    class: Drupal\acquia_perz\ExportQueue
    arguments: [ '@acquia_perz.publishing_actions', '@acquia_perz.publishing_settings', '@renderer', '@entity_type.manager', '@queue', '@plugin.manager.queue_worker', '@messenger' ]
